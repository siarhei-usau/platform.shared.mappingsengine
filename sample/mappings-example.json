{
  "metadata": {
    "id": "rs-mappings",
    "version": "1.0.0",
    "primaryKey": "$.book.body[0].book-part[0].book-part-meta[0].doi"
  },
  "transforms": [
    {
      "type": "rename",
      "config": {
        "fromPath": "$.book.body[0].book-part[0].book-part-meta[0].book-part-id[*].value",
        "targetPath": "@^book-part-id+id"
      }
    },
    {
      "type": "copy",
      "config": {
        "fromPath": "$.book.body[0].book-part[0].book-part-meta[0].book-part-id[?(@.pub-id-type=='doi')].id",
        "targetPath": "@^book-part-id^book-part-meta+doi"
      }
    },
    {
      "type": "concat",
      "config": {
        "fromPaths": [
          "$.book.body[0].book-part[0].book-part-meta[0].book-part-id[*].value",
          "$.book.body[0].book-part[0].book-part-meta[0].book-part-id[?(@.pub-id-type=='doi')].id"
        ],
        "targetPath": "@^book-part-id+test",
        "delimiter":","
      }
    },
    {
      "type": "insert",
      "config": {
        "testPath": "$.book.body[0]",
        "targetPath": "@+insert",
        "jsonFragment":[{"fragment":"test"},{"2fragment":"2test"}]
      }
    }
  ],
  "configuration": {
    "xml2json": {
      "embedLiteralXmlAtPaths": [
        "//book[*]/body[*]/book-part[*]/book-front[*]/sec",
        "//book[*]/body[*]/book-part[*]/body[*]/sec",
        "//book[*]/body[*]/book-part[*]/book-part-meta[*]/abstract/p"
      ]
    }
  }
}