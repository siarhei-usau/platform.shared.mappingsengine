buildscript {
    ext.kotlin_version = '1.1.51'
    ext.streamsets_api_version = '2.7.+'
    ext.streamsets_sdk_version = '2.7.+'
    ext.slf4j_version = '1.7.+'
    ext.junit_version = '4.+'
    ext.logback_version = '1.2.+'
    ext.ugly_json_version = '20170516'
    ext.jsonpath_version = '2.4.+'
    ext.jackson_version = '2.9.+'
    ext.version_airline = '2.3.+'
    ext.version_lombok_gradleplugin = '1.10'
    ext.version_lombok = '1.16.18'

    repositories {
        mavenCentral()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    //    classpath "io.franzbecker:gradle-lombok:$version_lombok"
    }
}

group 'com.ebsco.entarch'
version '1.0.7-SNAPSHOT'


subprojects {
//    apply plugin: 'io.franzbecker.gradle-lombok'
    apply plugin: 'kotlin'

    repositories {
        mavenCentral()
    }

    dependencies {
        compile "org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version"

        testCompile "junit:junit:$junit_version"
        testCompile "org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version"

        compileOnly "org.projectlombok:lombok:$version_lombok"
     //   annotationProcessor "org.projectlombok:lombok:$version_lombok"
        kapt "org.projectlombok:lombok:$version_lombok"
        // it is already bound to slf4j-log4j testRuntime "ch.qos.logback:logback-classic:$logback_version"

    }

    compileKotlin {
        kotlinOptions.jvmTarget = "1.8"
    }
    compileTestKotlin {
        kotlinOptions.jvmTarget = "1.8"
    }

    tasks.withType(Tar){
        compression = Compression.GZIP
    }
}
